pipeline {
    agent any

    environment {
        imagename = "fast_api_test"
        registryCredential = 'wlsdnrzlzl'
        version = 'latest'
        dockerImage = ''
    }

    stages {

        // docker build
        stage('Bulid Docker') {
          agent any
          steps {
            echo 'Bulid Docker'
            script {
                dockerImage = sh 'docker build -t test:latest ./Fastapi_app'
            }
          }
        }

    }
}
